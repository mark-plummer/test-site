<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Antora ThoughtSpot Demo Site</title>
    <link rel="canonical" href="https://docs.thoughtspot.com/Version%204.5/4.5/complex-search/about-moving-formulas.md.html">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://docs.thoughtspot.com">Antora ThoughtSpot Demo Site</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="Version 4.5" data-version="4.5">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Version 4.5</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Welcome</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Users</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#end-user/introduction/introduction.adoc">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/introduction/about-navigation-thoughtspot.adoc">Finding your way around</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/accessing.adoc">ThoughSpot browser access</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/introduction/getting-started.adoc">The Getting Started sidebar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/introduction/about-user.adoc">Your user preferences</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/introduction/about-privileges-end-user.adoc">Understanding privileges</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/stickers.adoc">Use stickers to organize</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Use Search</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/search/about-starting-a-new-search.adoc">What are searches and answers?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Search basics</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/start-a-new-search.adoc">Start a new search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-choosing-sources.adoc">Choose a data source</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-the-search-bar.adoc">Search bar features</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/recent-searches.adoc">Search suggestions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-attributes-and-measures.adoc">Search results and column types</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/data-refresh-time.adoc">Last data refresh time</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/work-with-answers.adoc">Work with answers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/search/about-tables.adoc">Results that are tables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Use keywords in search</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/about-keyword-searches.adoc">Overview of keyword searches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/period-searches.adoc">Time series analysis</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/search-using-growth-over-time.adoc">Search using growth over time</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#admin/features/proximity-search.adoc">Proximity searches "near" and "farther than"</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with filters</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/about-filters.adoc">Understand filters</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/filter-from-column-headers.adoc">Add a filter to a table</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/filter-from-chart-axes.adoc">Add a filter to a chart</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/create-bulk-filter.adoc">Create a bulk filter</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/delete-a-filter.adoc">Delete a filter</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/about-filters-for-null.adoc">Filter on null, blank, or empty values</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other search actions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/change-the-view.adoc">Change result display options</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/show-underlying-data.adoc">Show underlying data</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/drill-down.adoc">See the search behind the result</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/apply-conditional-formatting.adoc">Apply conditional formatting to a table</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#complex-search/download-your-search.adoc">Download your search</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/replay-search.adoc">Replay search</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with charts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/search/about-charts.adoc">Understand charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Chart types</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-column-charts.adoc">Column charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-bar-charts.adoc">Bar charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-line-charts.adoc">Line charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/pie-charts.adoc">Pie charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/area-charts.adoc">Area charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-scatter-charts.adoc">Scatter charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-bubble-charts.adoc">Bubble charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-pareto-charts.adoc">Pareto charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-waterfall-charts.adoc">Waterfall charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-treemap-charts.adoc">Treemap charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/line-column-charts.adoc">Line column charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-funnel-charts.adoc">Funnel charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-geo-charts.adoc">Geo charts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-pivoting-a-table.adoc">Pivot table</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Changing a chart</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/reorder-values-on-the-x-axis.adoc">Reorder the labels</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/set-the-y-axis-scale.adoc">Set the y-axis range</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/hide-and-show-values.adoc">Hide and show values</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/change-chart-colors.adoc">Change chart colors</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/show-data-labels.adoc">Additional chart options</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/zoom-into-a-chart.adoc">Zoom into a chart</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with formulas</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/add-a-formula-to-search.adoc">Understand formulas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/how-to-add-formula.adoc">Add a formula to a search</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/edit-formula-in-answer.adoc">View or edit a formula in search</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Aggregate formulas</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/aggregation-formulas.adoc">Overivew of aggregate formulas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-cumulative-formulas.adoc">Cumulative functions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-pinned-measures.adoc">Grouping functions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/about-moving-formulas.adoc">Moving functions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#end-user/search/filtered-agg-forms.adoc">Filtered aggregation functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/conversion-formulas.adoc">Conversion functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#advanced-search/formulas/date-formulas.adoc">Date functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#advanced-search/formulas/percent-calculations.adoc">Percent (simple number) calculations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#advanced-search/formulas/conditional-sum.adoc">Formula operators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/about-nested-formulas.adoc">Nested formulas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/about-formula-support-for-chasm-trap-schemas.adoc">Formulas for chasm traps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with worksheets</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/about-query-on-query.adoc">Understand worksheets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/create-aggregated-worksheet.adoc">Save a search as a worksheet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/do-query-on-query.adoc">Create a search from a worksheet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/more-example-scenarios.adoc">Worksheet example scenarios</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Use pinboards</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/about-pinboards.adoc">Basic pinboard usage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/edit-the-layout-of-pinboard.adoc">Edit a pinboard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#complex-search/pinboard-filters.adoc">Pinboard filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#admin/manage-jobs/schedule-a-pinboard-job.adoc">Schedule a pinboard job</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/about-showing-underlying-data-from-within-a-pinboard.adoc">Search actions within a pinboard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/copy-a-pinboard.adoc">Copy a pinboard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/copy-link-for-a-pinboard.adoc">Copy a pinboard or visualization link</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/reset-a-visualization.adoc">Reset a pinboard or visualization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/start-a-slideshow.adoc">Start a slideshow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Work with data</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/data-view/data-into-end-user.adoc">Understand data sources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/data-view/generate-flat-file.adoc">Create and load CSV files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#admin/loading/append-data-from-a-web-browser.adoc">Append data through the UI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#admin/loading/view-your-data-profile.adoc">View a data profile</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/locale.adoc">Date and currency format settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SpotIQ</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/whatisspotiq.adoc">What is SpotIQ</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/overview.adoc">101:Load and analyze data</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/work-with-insights.adoc">101:Review and save insights</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/spotiq-customize.adoc">101:Do more with SpotIQ</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/special-topics.adoc">Best SpotIQ Practices</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/customization.adoc">Custom SpotIQ analysis</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#spotiq/adv-customize-withr.adoc">Advanced R Customizations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">Share your work</span>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/data-view/sharing-for-end-users.adoc">About sharing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/share-pinboards.adoc">Share pinboards</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/share-answers.adoc">Share answers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/data-view/share-user-imported-data.adoc">Share uploaded data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/pinboards/unshare.adoc">Revoke access (unshare)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Slack and ThoughtSpot</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/slack/intro.adoc">Slack and Spot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#end-user/slack/use-spot.adoc">How to use Spot</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#end-user/help-center/what-you-can-find-in-the-help-center.adoc">More help and support</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About this release</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#release/notes.adoc">Release notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#release/downloads.adoc">Downloads</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Version 4.5</span>
    <span class="version">4.5</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Version 4.5</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">4.5</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/mark-plummer/test-site/edit/4.5/docs/modules/complex-search/pages/about-moving-formulas.md.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<hr>
<div class="paragraph">
<p>title: [Moving functions]</p>
</div>
<div class="paragraph">
<p>last_updated: tbd summary: "Moving formulas are aggregate formulas that allow you to calculate the average, max, min, or sum of your data over a predetermined interval, or window, with an adjustable range." sidebar: mydoc_sidebar permalink: /:collection/:path.html&#8201;&#8212;&#8201;Moving formulas can be used to smooth out any irregularities in your data to easily recognize trends.
The larger the interval you set, the more the peaks and valleys are smoothed out.
While the smaller the interval, the closer the moving averages are to the actual data points.</p>
</div>
<div class="paragraph">
<p>Each of the moving formula accepts a measure, two integers to define the window, and one or more optional attributes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula (measure,integer,integer,[attribute,attribute,...])</pre>
</div>
</div>
<div class="paragraph">
<p>Only the measure and integer values are required.
If you supply both required and optional values, the formula returns the aggregate of the measure over the given window.
You should experiment with only a measure and integers leaving out the attribute and then adding it back in.
This will help you decide which output best meets your use case.</p>
</div>
<div class="paragraph">
<p>The moving formulas are the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>moving_average</code>, for example <code>moving_average (revenue, 2, 1, customer region)</code></p>
<div class="paragraph">
<p>Takes a measure, two integers to define the window to aggregate over, and one or more attributes.
Returns the average of the measure over the given window.
The attributes are the ordering columns used to compute the moving average.
The window is (<code>current - Num1...Current + Num2</code>) with both end points being included in the window.
For example, <code>1,1</code> will have a window size of 3.
To see periods in the past, use a negative number for the second endpoint, as in the example <code>moving_average(sales, 1, -1, date)</code>.</p>
</div>
</li>
<li>
<p><code>moving_max</code>, for example <code>moving_max (complaints, 1, 2, store name)</code></p>
<div class="paragraph">
<p>Takes a measure, two integers to define the window to aggregate over, and one or more attributes.
Returns the maximum of the measure over the given window.
The attributes are the ordering columns used to compute the moving maximum.
The window is (current - Num1&#8230;&#8203;Current + Num2) with both end points being included in the window.
For example, <code>1,1</code> will have a window size of 3.
To see periods in the past, use a negative number for the second endpoint, as in the example <code>moving_max(sales, 1, -1, date)</code>.</p>
</div>
</li>
<li>
<p><code>moving_min</code>, for example <code>moving_min (defects, 3, 1, product)</code></p>
<div class="paragraph">
<p>Takes a measure, two integers to define the window to aggregate over, and   one or more attributes.
Returns the minimum of the measure over the given   window.
The attributes are the ordering columns used to compute the moving   minimum.
The window is (current - Num1&#8230;&#8203;Current + Num2) with both end   points being included in the window.
For example, <code>1,1</code> will have a window   size of 3.
To see periods in the past, use a negative number for the second   endpoint, as in the example <code>moving_min(sales, 1, -1, date)</code>.</p>
</div>
</li>
<li>
<p><code>moving_sum</code>, for example <code>moving_sum (revenue, 1, 1, order date)</code></p>
<div class="paragraph">
<p>Takes a measure, two integers to define the window to aggregate over, and one or more attributes.
Returns the sum of the measure over the given window.
The attributes are the ordering columns used to compute the moving sum.
The window is (current - Num1&#8230;&#8203;Current + Num2) with both end points being included in the window.
For example, <code>1,1</code> will have a window size of 3.
To see periods in the past, use a negative number for the second endpoint, as in the example <code>moving_sum(sales, 1, -1, date)</code>.</p>
</div>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_calculate_a_moving_average"><a class="anchor" href="#_calculate_a_moving_average"></a>Calculate a moving average</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This example  demonstrates using the <code>moving_average</code> formula.
To use the moving function in a search:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a new search.</p>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/aggregation_answer.png" alt="aggregation answer">
</div>
</div>
</li>
<li>
<p>In the upper-right side of the table, click the ellipses icon <span class="image"><img src="_images/{{%20site.baseurl%20}}/images/icon-ellipses.png" alt="more options menu icon"></span> and select <strong>Add formula</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/create_formula_in_answer.png" alt="create formula in answer">
</div>
</div>
</li>
<li>
<p>Enter the moving_average formula, providing a measure, a window, and one or more attributes.</p>
<div class="paragraph">
<p>The example will return the average of revenue, within the commit date window size of 3.
The window includes the previous, current, and next rows.
The attributes are the ordering columns used to compute the moving average.
The window is (current - Num1&#8230;&#8203;Current + Num2) with both end points being included in the window.
For example, "1,1" will have a window size of 3.
To see periods in the past, use a negative number for the second endpoint, as in the example "moving_average(sales, 1, -1, date)".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/moving_average_formula.png" alt="moving average formula">
</div>
</div>
</li>
<li>
<p>Name the formula by entering a title in the top field, and then click <strong>Save</strong>.</p>
<div class="paragraph">
<p>The formula will appear in the search bar and in the table as its own column.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/{{%20site.baseurl%20}}/images/moving_average_table.png" alt="moving average table">
</div>
</div>
<div class="paragraph">
<p>A box displaying the moving average within the entire table will appear at the bottom.</p>
</div>
</li>
<li>
<p>To use a different aggregation type, click the current aggregation type in the bottom of the box and select another type.</p>
</li>
</ol>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
